<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn forever - Admin</title>
    <link rel="stylesheet" href="../static/style/main.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&" />
</head>

<body>
    <header>
        <h2>Learn forever</h2>
        <div class="link">
            <ul class="ulbar">
                <li><a href="/">Home</a></li>
                <!-- <li><a href="/student">Blog</a></li> -->
                <!-- <li><a href="/student">Blog</a></li> -->
                <li><a href="/admin">Admin</a></li>
            </ul>
        </div>
        <div class="search-container">
            <span class="material-symbols-outlined search-icon">search</span>
            <input type="text" placeholder="Search Google or type a URL" class="search-input">
        </div>
        <div class="login">
            <button class="login1">login</button>
            <button class="sign">sign in</button>
        </div>
    </header>

    <main>
        <!-- Add News Form -->
        <section class="add-news">
            <h2>Add News Article</h2>
            <form action="{{ url_for('add_news') }}" method="POST" enctype="multipart/form-data">
                <label>Title:</label>
                <input type="text" name="title" placeholder="Enter news title" required>

                <label>Content:</label>
                <textarea name="content" rows="6" placeholder="Write your news here..." required></textarea>

                <label>Date:</label>
                <input type="date" name="date" required>

                <label>Image:</label>
                <input type="file" name="image">

                <button type="submit">Publish News</button>
            </form>
        </section>

        

        <!-- Manage Existing News -->
        <section class="manage-news">
            <h2>Existing News</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Content</th>
                        <th>Image</th>
                        <th>Date</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for s in list %}
                    <tr>
                        <td>{{ s[0] }}</td> <!-- id -->
                        <td>{{ s[1] }}</td> <!-- title -->
                        <td class="para">{{ s[4] }}</td> <!-- content -->
                        <td>
                            {% if s[3] %}
                            <img src="{{ url_for('static', filename='uploads/' ~ s[3]) }}" alt="image" width="100">
                            {% endif %}
                        </td>
                        <td>{{ s[2] }}</td> <!-- date -->
                        <td class="action-btn">
                            <button class="edit">
                                <a href="{{ url_for('edit_news', id=s[0]) }}">Edit</a>
                            </button>
                            <button class="delete">
                                <a href="{{ url_for('delete_news', news_id=s[0]) }}">Delete</a>
                            </button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    </main>
    </main>
</body>

</html>
