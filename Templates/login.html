{% extends 'app.html' %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow-lg p-4 rounded-4" style="max-width: 400px; width: 100%;">
    
    <h3 class="text-center mb-4">Login</h3>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-danger alert-dismissible fade show mb-3" role="alert">
          {% for msg in messages %}
            <div>{{ msg }}</div>
          {% endfor %}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endif %}
    {% endwith %}

    <!-- Login Form -->
    <form method="POST" action="{{ url_for('login') }}" novalidate>
      {{ form.hidden_tag() }}

      <!-- Email -->
      <div class="mb-3">
        {{ form.email.label(class="form-label", for="email") }}
        {{ form.email(class="form-control", id="email", placeholder="Enter your email") }}
        {% if form.email.errors %}
          {% for error in form.email.errors %}
            <small class="text-danger">{{ error }}</small><br>
          {% endfor %}
        {% endif %}
      </div>

      <!-- Password -->
      <div class="mb-3">
        {{ form.password.label(class="form-label", for="password") }}
        {{ form.password(class="form-control", id="password", placeholder="Enter your password") }}
        {% if form.password.errors %}
          {% for error in form.password.errors %}
            <small class="text-danger">{{ error }}</small><br>
          {% endfor %}
        {% endif %}
      </div>

      <!-- Submit Button -->
      <div class="d-grid">
        {{ form.submit(class="btn btn-primary w-100") }}
      </div>

      <!-- Sign Up Link -->
      <p class="text-center mt-3 mb-0">
        Don't have an account? 
        <a href="" class="text-decoration-none">Sign up</a>
      </p>
    </form>

  </div>
</div>
{% endblock %}